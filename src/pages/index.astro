---
import DefaultLayout from "../layouts/Default.astro";
import { FeaturesCardsSection } from "../sections/FeaturedCards";
import {HeroSection} from "../sections/Hero.tsx";
import { FeaturesGrid } from "../sections/FeaturedGrid";
import {LatestPosts} from "../sections/LatestPost"
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
const latestPosts = posts
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 4);

---



<DefaultLayout>
  <HeroSection client:load/>
  <FeaturesCardsSection client:load/>
  <FeaturesGrid client:load/>
  <LatestPosts latestPosts={latestPosts} client:load />
</DefaultLayout>

